---
import ProjectItem from '../../components/ProjectItem.astro';
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getAllProjects } from '../../utils/data-utils';

const { published, workingPaper, workInProgress } = await getAllProjects();
---

<BaseLayout title="Projects" description="All the projects I am working on" image={{ src: '/lachi-portrait.jpeg', alt: 'Lachi Singh' }} showHeader={false}>
    {
        published.length > 0 && (
            <div>
                <h1 class="mb-12 text-2xl leading-tight font-serif italic sm:mb-16 sm:text-4xl">Publications</h1>
                <ul class="flex flex-col gap-8">
                    {published.map((project) => (
                        <li>
                            <ProjectItem project={project} />
                        </li>
                    ))}
                </ul>
            </div>
        )
    }
    {
        workingPaper.length > 0 && (
            <div>
                <h1 class="mb-12 text-2xl leading-tight font-serif italic sm:mb-16 sm:text-4xl">Working Papers</h1>
                <ul class="flex flex-col gap-8">
                    {workingPaper.map((project) => (
                        <li>
                            <ProjectItem project={project} />
                        </li>
                    ))}
                </ul>
            </div>
        )
    }
    {
        workInProgress.length > 0 && (
            <div>
                <h1 class="mb-12 text-2xl leading-tight font-serif italic sm:mb-16 sm:text-4xl">Work In Progress</h1>
                <ul class="flex flex-col gap-8">
                    {workInProgress.map((project) => (
                        <li>
                            <ProjectItem project={project} />
                        </li>
                    ))}
                </ul>
            </div>
        )
    }
</BaseLayout>
